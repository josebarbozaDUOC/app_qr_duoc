{"version":3,"file":"src_app_pages_recuperarpassword_preguntasecreta_preguntasecreta_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEM;AAE7D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sEAAmB;KAC/B;IACD;QACE,IAAI,EAAE,UAAU;QAChB,YAAY,EAAE,GAAG,EAAE,CAAC,+MAAoC,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,kBAAkB,CAAC;KAC1F;IACD;QACE,IAAI,EAAE,YAAY;QAClB,YAAY,EAAE,GAAG,EAAE,CAAC,wNAAwC,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,oBAAoB,CAAC;KAChG;CACF,CAAC;IAMW,gCAAgC,SAAhC,gCAAgC;CAAG;AAAnC,gCAAgC;IAJ5C,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,gCAAgC,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACxBJ;AACM;AACF;AAEA;AAEuC;AAEvB;IAWhD,yBAAyB,SAAzB,yBAAyB;CAAG;AAA5B,yBAAyB;IATrC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,6FAAgC;SACjC;QACD,YAAY,EAAE,CAAC,sEAAmB,CAAC;KACpC,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBtC;AACA;AACA;AACA;IAQaK,mBAAmB,SAAnBA,mBAAmB;EAK9B;EAEAC,YACUC,WADV,EAEYC,MAFZ,EAGYC,eAHZ,EAIYC,eAJZ,EAI4C;IAHlC;IACE;IACA;IACA;IAEV,KAAKH,WAAL,CAAiBI,WAAjB,CAA6BC,SAA7B,CAAuCC,MAAM,IAAG;MAC9C,IAAI,KAAKL,MAAL,CAAYM,oBAAZ,GAAmCC,MAAnC,CAA0CC,KAA9C,EAAqD;QACnD,KAAKC,OAAL,GAAe,KAAKT,MAAL,CAAYM,oBAAZ,GAAmCC,MAAnC,CAA0CC,KAA1C,CAAgDC,OAA/D;QACA,KAAKA,OAAL,CAAaC,gBAAb,GAAgC,EAAhC;MACD,CAHD,MAGO;QACL,KAAKV,MAAL,CAAYW,QAAZ,CAAqB,CAAC,QAAD,CAArB;MACD;IACF,CAPD;EAQD;;EAEDC,QAAQ,IACP,CAxB6B,CA0B9B;;;EACOC,SAAS;IAEd,IAAG,CAAC,KAAKC,cAAL,CAAoB,KAAKL,OAAzB,CAAJ,EAAuC;MACrC,KAAKM,cAAL,CAAoB,uBAApB,EADqC,CAErC;;MACA,KAAKf,MAAL,CAAYW,QAAZ,CAAqB,CAAC,aAAD,CAArB;MACA;IACD;;IAED,KAAKI,cAAL,CAAoB,qBAApB,EATc,CAUd;;IACA,MAAMC,gBAAgB,GAAqB;MACzCR,KAAK,EAAE;QACLC,OAAO,EAAE,KAAKA;MADT;IADkC,CAA3C,CAXc,CAgBd;;IACA,KAAKT,MAAL,CAAYW,QAAZ,CAAqB,CAAC,WAAD,CAArB,EAAoCK,gBAApC;EACD;;EAEMF,cAAc,CAACL,OAAD,EAAiB;IAEpC;IACA,MAAMQ,IAAI,GAAG,KAAKR,OAAL,CAAaS,6BAAb,CACX,KAAKT,OAAL,CAAaC,gBADF,EACoB,KAAKD,OAAL,CAAaU,MADjC,CAAb;;IAGA,IAAIF,IAAJ,EAAU;MACR,KAAKR,OAAL,GAAeQ,IAAf;MACA,OAAO,IAAP;IACD,CAHD,MAII;MACF,KAAKF,cAAL,CAAoB,mCAApB;MACA,OAAO,KAAP;IACD;EACF,CA7D6B,CA+D9B;;;EACMA,cAAc,CAACK,OAAD,EAAkBC,QAAlB,EAAmC;IAAA;;IAAA;MACrD,MAAMC,KAAK,SAAS,KAAI,CAACpB,eAAL,CAAqBqB,MAArB,CAA4B;QAC5CC,OAAO,EAAEJ,OADmC;QAE5CK,QAAQ,EAAEJ,QAAQ,GAAEA,QAAF,GAAY;MAFc,CAA5B,CAApB;MAIAC,KAAK,CAACI,OAAN;IALqD;EAMtD;;AAtE6B;;;QAVGhC,2DAAcA;;QAAxCD,mDAAMA;;QAENG,2DAAeA;;QADfD,2DAAeA;;;AASXE,mBAAmB,sDAL/BL,wDAAS,CAAC;EACTmC,QAAQ,EAAE,qBADD;EAETC,UAAAA,kEAFS;;AAAA,CAAD,CAKsB,GAAnB/B,mBAAmB,CAAnB","sources":["./src/app/pages/recuperarpassword/preguntasecreta/preguntasecreta-routing.module.ts","./src/app/pages/recuperarpassword/preguntasecreta/preguntasecreta.module.ts","./src/app/pages/recuperarpassword/preguntasecreta/preguntasecreta.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PreguntasecretaPage } from './preguntasecreta.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PreguntasecretaPage\n  },\n  {\n    path: 'correcto',\n    loadChildren: () => import('./correcto/correcto.module').then( m => m.CorrectoPageModule)\n  },\n  {\n    path: 'incorrecto',\n    loadChildren: () => import('./incorrecto/incorrecto.module').then( m => m.IncorrectoPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PreguntasecretaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PreguntasecretaPageRoutingModule } from './preguntasecreta-routing.module';\n\nimport { PreguntasecretaPage } from './preguntasecreta.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PreguntasecretaPageRoutingModule\n  ],\n  declarations: [PreguntasecretaPage]\n})\nexport class PreguntasecretaPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router, NavigationExtras, ActivatedRoute} from '@angular/router';\nimport { ToastController } from '@ionic/angular'; \nimport { AlertController } from '@ionic/angular';\nimport { Usuario } from 'src/app/model/Usuario';\n\n@Component({\n  selector: 'app-preguntasecreta',\n  templateUrl: './preguntasecreta.page.html',\n  styleUrls: ['./preguntasecreta.page.scss'],\n})\nexport class PreguntasecretaPage implements OnInit {\n\n  //instancia de usuario\n  public usuario: Usuario;\n\n  //public respuesta: string =\"\";\n\n  constructor(\n    private activeroute:       ActivatedRoute\n    , private router:          Router\n    , private alertController: AlertController\n    , private toastController: ToastController\n    ) { \n    this.activeroute.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.usuario = this.router.getCurrentNavigation().extras.state.usuario;\n        this.usuario.respuestaSecreta = '';\n      } else {\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n \n  ngOnInit() {\n  }\n\n  //m√©todo recuperar\n  public recuperar(): void {\n\n    if(!this.validarUsuario(this.usuario)) {\n      this.mostrarMensaje('Respuesta: INCORRECTA');\n      //this.mostrarMensaje(this.respuesta);\n      this.router.navigate(['/incorrecto']);\n      return;\n    }\n  \n    this.mostrarMensaje('Respuesta: CORRECTA');\n    //this.mostrarMensaje(this.respuesta);\n    const navigationExtras: NavigationExtras = {\n      state: {\n        usuario: this.usuario\n      }\n    };\n    //Navegamos hacia la pag paso 3 o 4 y nos llevamos los datos del usuario\n    this.router.navigate(['/correcto'], navigationExtras);\n  }\n\n  public validarUsuario(usuario: Usuario): boolean {\n \n    //se utilizan los datos ingresados por el usuario\n    const user = this.usuario.buscarUsuarioValidoRespSecret(\n      this.usuario.respuestaSecreta, this.usuario.correo);\n \n    if (user) {\n      this.usuario = user;\n      return true;\n    }\n    else{\n      this.mostrarMensaje('Las credenciales no son correctas');\n      return false;\n    }\n  }\n\n  //utilizamos el toast para mensaje\n  async mostrarMensaje(mensaje: string, duracion?: number) {\n    const toast = await this.toastController.create({\n        message: mensaje,\n        duration: duracion? duracion: 2000\n      });\n    toast.present();\n  }\n}"],"names":["Component","Router","ActivatedRoute","ToastController","AlertController","PreguntasecretaPage","constructor","activeroute","router","alertController","toastController","queryParams","subscribe","params","getCurrentNavigation","extras","state","usuario","respuestaSecreta","navigate","ngOnInit","recuperar","validarUsuario","mostrarMensaje","navigationExtras","user","buscarUsuarioValidoRespSecret","correo","mensaje","duracion","toast","create","message","duration","present","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}